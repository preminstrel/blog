<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  
  <meta name="author" content="Hanshi Sun">

  
  
  <meta name="description" content="通讯的基本概念 串行通讯和并行通讯 特性 串行通讯 并行通讯 通讯距离 较远 较近 抗干扰能力 较强 较弱 传输速率 较慢 较高 成本 较低 较高 全双工、半双工及单工通讯 通">
  

  
  <link rel="icon" href="https://preminstrel.github.io/blog/favicon.ico">

  
  
  <meta name="keywords" content=" hugo  latex  theme ">
  

  
  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"
  integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
  integrity="sha384-0fdwu/T/EQMsQlrHCCHoH10pkPLlKA1jL5dFyUOvB3lfeT2540/2g6YgSi2BL14p" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js"
  integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: '$$', right: '$$', display: true },
        { left: '\\[', right: '\\]', display: true },
        { left: '$', right: '$', display: false },
        { left: '\\(', right: '\\)', display: false }
      ],
      ignoredTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code', 'option'],
      throwOnError: false
    });
  });
</script>


  

  
  <meta property="og:title" content="Introduction to Communication Protocol" />
<meta property="og:description" content="通讯的基本概念 串行通讯和并行通讯 特性 串行通讯 并行通讯 通讯距离 较远 较近 抗干扰能力 较强 较弱 传输速率 较慢 较高 成本 较低 较高 全双工、半双工及单工通讯 通" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://preminstrel.github.io/blog/post/2021/10/28/introduction-to-communication-protocol/" />
<meta property="article:published_time" content="2021-10-28T17:01:24+08:00" />
<meta property="article:modified_time" content="2021-10-28T00:00:00+00:00" />


  
  <link rel="canonical" href="https://preminstrel.github.io/blog/post/2021/10/28/introduction-to-communication-protocol/">

  
  
  <meta itemprop="name" content="Introduction to Communication Protocol">
<meta itemprop="description" content="通讯的基本概念 串行通讯和并行通讯 特性 串行通讯 并行通讯 通讯距离 较远 较近 抗干扰能力 较强 较弱 传输速率 较慢 较高 成本 较低 较高 全双工、半双工及单工通讯 通">
<meta itemprop="datePublished" content="2021-10-28T17:01:24&#43;08:00" />
<meta itemprop="dateModified" content="2021-10-28T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1472">



<meta itemprop="keywords" content="MCU,Protocol," />

  
  <link media="screen" rel="stylesheet" href='https://preminstrel.github.io/blog/css/common.css'>
  <link media="screen" rel="stylesheet" href='https://preminstrel.github.io/blog/css/content.css'>

  
  
  <title>Introduction to Communication Protocol - Blog de Preminstrel</title>
  

  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Introduction to Communication Protocol"/>
<meta name="twitter:description" content="通讯的基本概念 串行通讯和并行通讯 特性 串行通讯 并行通讯 通讯距离 较远 较近 抗干扰能力 较强 较弱 传输速率 较慢 较高 成本 较低 较高 全双工、半双工及单工通讯 通"/>


  
<link rel="stylesheet" href='https://preminstrel.github.io/blog/css/single.css'>

</head>

<body>
  <div id="wrapper">
    <header id="header">
  <h1>
    <a href="https://preminstrel.github.io/blog/">Blog de Preminstrel</a>
  </h1>

  <nav>
    
    <span class="nav-bar-item">
      <a class="link" href="/blog/">Post</a>
    </span>
    
    <span class="nav-bar-item">
      <a class="link" href="/blog/post/">Archives</a>
    </span>
    
    <span class="nav-bar-item">
      <a class="link" href="/blog/about/">About</a>
    </span>
    
  </nav>
</header>

    
<main id="main" class="post">
  
  
  <h1>Introduction to Communication Protocol</h1>
  
  <div>
    <b>Keywords: </b>
    
    <a class="link" href='https://preminstrel.github.io/blog/tags/mcu'>#MCU</a>
    
    <a class="link" href='https://preminstrel.github.io/blog/tags/protocol'>#Protocol</a>
    
  </div>
  
  
  <article class="content">
    
    <h2 id="通讯的基本概念">通讯的基本概念</h2>
<p><strong class=chinese>串行通讯和并行通讯</strong></p>
<table>
<thead>
<tr>
<th>特性</th>
<th>串行通讯</th>
<th>并行通讯</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong class=chinese>通讯距离</strong></td>
<td>较远</td>
<td>较近</td>
</tr>
<tr>
<td><strong class=chinese>抗干扰能力</strong></td>
<td>较强</td>
<td>较弱</td>
</tr>
<tr>
<td><strong class=chinese>传输速率</strong></td>
<td>较慢</td>
<td>较高</td>
</tr>
<tr>
<td><strong class=chinese>成本</strong></td>
<td>较低</td>
<td>较高</td>
</tr>
</tbody>
</table>
<p><strong>全双工、半双工及单工通讯</strong></p>
<table>
<thead>
<tr>
<th>通讯方式</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>全双工</td>
<td>在同一时刻，两个设备之间可以同时收发数据</td>
</tr>
<tr>
<td>半双工</td>
<td>两个设备之间可以收发数据，但不能在同一时刻进行</td>
</tr>
<tr>
<td>单工</td>
<td>在任何时刻都只能进行一个方向的通讯，即一个固定为发送设备，另一个固定为接收设备</td>
</tr>
</tbody>
</table>
<p><strong class=chinese>同步通讯与异步通讯</strong></p>
<p>在同步通讯中，收发设备双方会<strong class=chinese>使用一根信号线表示时钟信号</strong>，在时钟信号的驱动下双方进行协调，同步数据。通讯中通常双方会统一规定在时钟信号的<strong class=chinese>上升沿或下降沿</strong>对数据线进行采样。</p>
<div align=center>
<img src="/img/202008241506026747.png" width="600px" />
</div>
<p>在异步通讯中<strong class=chinese>不使用时钟信号</strong>进行数据同步，它们直接在数据信号中穿插一些同步用的信号位，或者把主体数据进行打包，以<strong class=chinese>数据帧</strong>的格式传输数据。某些通讯中还需要双方约定数据的传输速率，以便更好地同步。</p>
<div align=center>
<img src="/img/202008241506032390.jpg" width="600px" />
</div>
<p>在同步通讯中，数据信号所传输的内容绝大部分就是有效数据，而异步通讯中会包含有帧的各种标识符，所以<strong class=chinese>同步通讯的效率更高</strong>，但是同步通讯双方的时钟允许误差较小，而异步通讯双方的时钟允许误差较大。</p>
<ul>
<li><strong class=chinese>通讯速率</strong></li>
</ul>
<p><strong>Bitrate—比特率</strong>：每秒钟传输的二进制位数，单位为比特每秒(bit/s) 。（I2C、SPI）（同步）</p>
<p><strong>Baudrate—波特率</strong>：表示每秒钟传输的码元个数。（USART）（异步）</p>
<p>一般一个码元用一个二进制表示，如：0V-0，3.3V-1</p>
<p>但是当码元有多个时，需要多位的二进制表示，如：0V-00，2V-01，4V-10，6V-11</p>
<h2 id="串口通讯协议简介">串口通讯协议简介</h2>
<p>对于通讯协议，<strong class=chinese>我们以分层的方式来理解</strong>，分为物理层和协议层。</p>
<h3 id="物理层">物理层</h3>
<p><strong>物理层：</strong> 规定通讯系统中具有机械、电子功能部分的特性，确保原始数据在物理媒体的传输。（硬件）</p>
<h4 id="rs-232">RS-232</h4>
<div align=center>
<img src="/img/202008241506049730.jpg" width="700px" />
</div>
<ol>
<li>RS232标准串口主要用于工业设备直接通信</li>
<li>电平转换芯片一般有 MAX3232，SP3232</li>
<li>DB9接口（COM口） 标准的公头及母头接法</li>
</ol>
<div align=center>
<img src="/img/202008241506045687.jpg" width="700px" />
</div>
<h4 id="usb转串口">USB转串口</h4>
<div align=center>
<img src="/img/202008241506054588.jpg" width="700px" />
</div>
<ol>
<li>USB转串口主要用于设备跟电脑通信</li>
<li>电平转换芯片一般有CH340、PL2303、CP2102、FT232</li>
<li>使用的时候电脑端需要安装电平转换芯片的驱动</li>
</ol>
<h4 id="原生的串口到串口">原生的串口到串口</h4>
<div align=center>
<img src="/img/202008241506056001.jpg" width="700px" />
</div>
<ol>
<li>原生的串口通信主要是控制器跟串口的设备或者传感器通信，不需要经过电平转换芯片来转换电平，直接就用TTL电平通信</li>
<li>GPS模块、GSM模块、串口转WIFI模块、HC04蓝牙模块</li>
</ol>
<h4 id="ttl和232的区别">TTL和232的区别</h4>
<p><strong class=chinese>电平标准不同</strong>：TTL电平一般是芯片里面出来的电平</p>
<table>
<thead>
<tr>
<th>通讯标准</th>
<th>电平标准（发送端）</th>
</tr>
</thead>
<tbody>
<tr>
<td>5V TTL</td>
<td>逻辑1：2.4V ~ 5V； 逻辑0：0 ~ 0.5V</td>
</tr>
<tr>
<td>RS-232</td>
<td>逻辑1：-15V ~ -3V ；逻辑0：+3V ~ +15V（增加抗干扰能力）</td>
</tr>
</tbody>
</table>
<div align=center>
<img src="/img/202008241506066159.jpg" width="700px" />
</div>
<h3 id="协议层">协议层</h3>
<p><strong>协议层：</strong> 主要规定通讯逻辑，统一收发双方的数据打包、解包标准。（软件）</p>
<p><strong class=chinese>串口数据包的基本组成</strong></p>
<div align=center>
<img src="/img/202008241506063872.jpg" width="600px" />
</div>
<ol>
<li>波特率</li>
</ol>
<p>本章中主要讲解的是串口异步通讯，异步通讯中由于没有时钟信号(如前面讲解的DB9接口中是没有时钟信号的)，所<strong>以两个通讯设备之间需要约定好波特率，即每个码元的长度</strong>，以便对信号进行解码。上图中用<strong class=chinese>虚线分开的每一格就是代表一个码元</strong>。常见的波特率为4800、9600、115200 等。</p>
<ol start="2">
<li>通讯的起始和停止信号</li>
</ol>
<p>数据包的起始信号由一个<strong>逻辑0</strong> 的数据位表示，而数据包的停止信号可由<strong>0.5、1、1.5 或2 个逻辑1</strong> 的数据位表示，只要双方约定一致即可。</p>
<ol start="3">
<li>有效数据</li>
</ol>
<p>在数据包的起始位之后紧接着的就是<strong class=chinese>要传输的主体数据内容</strong>，也称为有效数据，有效数据的长度常被约定为5、6、7 或8 位长。</p>
<ol start="4">
<li>数据校验（可选）</li>
</ol>
<p>由于数据通信相对更容易受到外部干扰导致传输数据出现偏差，可以在传输过程加上校验位来解决这个问题。校验方法有<strong>奇校验(odd)、偶校验(even)、0 校验(space)、1 校验(mark)以及无校验(noparity)。</strong></p>

    
  </article>
  <div class="paginator">
    
    <a class="link" href="https://preminstrel.github.io/blog/post/2021/10/25/mcs-51-basics-3/">← prev</a>
    
    
    <a class="link" href="https://preminstrel.github.io/blog/post/2021/10/28/uart/">next →</a>
    
  </div>
  <div class="comment">
    
    
    
    
    
    
  </div>
  
</main>

    <footer id="footer">
  <div>
    <span>© 2021</span> - <span>2022</span>
  </div>

  <div>
    <span>Powered by </span>
    <a class="link" href="https://gohugo.io/">Hugo</a>
    <span> 🍦 Theme </span>
    <a class="link" href="https://github.com/queensferryme/hugo-theme-texify">TeXify</a>
  </div>

  <div class="footnote">
    <span>Follow me on <a class=link href=https://github.com/preminstrel>GitHub</a>,
<a class=link href=https://twitter.com/preminstrel>Twitter</a> or
<a class=link href=/index.xml>RSS</a> |
<a class=link href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel=noopener>CC BY-NC-SA 4.0</a>
</span>
  </div>
</footer>

  </div>

  
  

  
  

  
  

</body>

</html>
